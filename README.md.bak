# VITECHCO Process Hub

Há»‡ thá»‘ng quáº£n lÃ½ quy trÃ¬nh ká»¹ thuáº­t, tÃ i liá»‡u, vÃ  nhÃ¢n sá»± chuyÃªn nghiá»‡p dÃ nh cho VITECHCO.

![Vitechco Logo](public/window.svg) <!-- Thay báº±ng logo thá»±c táº¿ náº¿u cÃ³ -->

## ğŸš€ Giá»›i thiá»‡u

VITECHCO Process Hub lÃ  má»™t á»©ng dá»¥ng web Enterprise-grade Ä‘Æ°á»£c xÃ¢y dá»±ng Ä‘á»ƒ sá»‘ hÃ³a quy trÃ¬nh lÃ m viá»‡c cá»§a Ä‘á»™i ngÅ© ká»¹ thuáº­t. Há»‡ thá»‘ng giÃºp:
- **Quáº£n lÃ½ táº­p trung**: LÆ°u trá»¯ quy trÃ¬nh, tÃ i liá»‡u, bÃ¡o cÃ¡o táº¡i má»™t nÆ¡i duy nháº¥t.
- **Chuáº©n hÃ³a quy trÃ¬nh**: Biáº¿n cÃ¡c file Word/Excel thÃ nh checklist tÆ°Æ¡ng tÃ¡c.
- **Tra cá»©u thÃ´ng minh**: TÃ¬m kiáº¿m nhanh chÃ³ng theo bá»™ pháº­n, dÃ²ng mÃ¡y, tags.
- **PhÃ¢n quyá»n cháº·t cháº½**: Há»‡ thá»‘ng quáº£n trá»‹ viÃªn (Admin) vÃ  ká»¹ thuáº­t viÃªn (Technician).

## ğŸ› ï¸ CÃ´ng nghá»‡ (Tech Stack)

Dá»± Ã¡n Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn ná»n táº£ng cÃ´ng nghá»‡ hiá»‡n Ä‘áº¡i nháº¥t (2024-2025):

- **Framework**: [Next.js 14](https://nextjs.org/) (App Router, Server Actions)
- **Language**: [TypeScript](https://www.typescriptlang.org/)
- **Database**: [PostgreSQL](https://www.postgresql.org/)
- **ORM**: [Prisma](https://www.prisma.io/)
- **Authentication**: [NextAuth.js](https://next-auth.js.org/) (Google OAuth)
- **UI Library**: [Tailwind CSS](https://tailwindcss.com/) + [shadcn/ui](https://ui.shadcn.com/)
- **Data Table**: [TanStack Table](https://tanstack.com/table/v8)
- **Rich Text Editor**: [Tiptap](https://tiptap.dev/)
- **Drag & Drop**: [dnd-kit](https://dndkit.com/)

## ğŸ“‚ Kiáº¿n trÃºc Dá»± Ã¡n (Feature-based Architecture)

Dá»± Ã¡n tuÃ¢n theo kiáº¿n trÃºc hÆ°á»›ng tÃ­nh nÄƒng (Feature-based) káº¿t há»£p vá»›i phÃ¢n táº§ng (Layered):

```
src/
â”œâ”€â”€ app/                    # Next.js App Router (Routes)
â”‚   â”œâ”€â”€ admin/              # Admin Dashboard routes
â”‚   â”œâ”€â”€ api/                # API Endpoints
â”‚   â”œâ”€â”€ docs/               # Public Document routes
â”‚   â””â”€â”€ page.tsx            # Home page
â”œâ”€â”€ features/               # Business Logic Modules
â”‚   â”œâ”€â”€ documents/          # Document Management Module
â”‚   â”‚   â”œâ”€â”€ components/     # UI Components specific to documents
â”‚   â”‚   â”œâ”€â”€ services/       # Business logic & DB interaction
â”‚   â”‚   â””â”€â”€ actions.ts      # Server Actions
â”‚   â””â”€â”€ users/              # User Management Module
â”œâ”€â”€ components/             # Shared UI Components (Button, Input...)
â”œâ”€â”€ lib/                    # Core utilities (Prisma client, helper functions)
â””â”€â”€ styles/                 # Global styles
```

## âš™ï¸ CÃ i Ä‘áº·t & Cháº¡y dá»± Ã¡n

### YÃªu cáº§u tiÃªn quyáº¿t
- Node.js 18+
- Docker (Ä‘á»ƒ cháº¡y PostgreSQL)

### BÆ°á»›c 1: Clone vÃ  CÃ i Ä‘áº·t dependencies
```bash
git clone <repo_url>
cd vitechco-process-hub
npm install
```

### BÆ°á»›c 2: Cáº¥u hÃ¬nh MÃ´i trÆ°á»ng
Táº¡o file `.env` vÃ  `.env.local` dá»±a trÃªn máº«u. Cáº§n cung cáº¥p:
- `DATABASE_URL`: Chuá»—i káº¿t ná»‘i PostgreSQL.
- `GOOGLE_CLIENT_ID` & `GOOGLE_CLIENT_SECRET`: Cho chá»©c nÄƒng Ä‘Äƒng nháº­p.
- `NEXTAUTH_SECRET`: KhÃ³a bÃ­ máº­t cho session.

### BÆ°á»›c 3: Khá»Ÿi cháº¡y Database
```bash
docker-compose up -d
npx prisma generate
npx prisma migrate dev
```

### BÆ°á»›c 4: Cháº¡y Server phÃ¡t triá»ƒn
```bash
npm run dev
```
Truy cáº­p `http://localhost:3000`.

## ğŸ“œ CÃ¡c lá»‡nh Scripts quan trá»ng

- `npm run dev`: Cháº¡y server dev.
- `npm run build`: Build production.
- `npm run start`: Cháº¡y server production.
- `npm run db:seed`: Khá»Ÿi táº¡o dá»¯ liá»‡u máº«u (Loáº¡i tÃ i liá»‡u).
- `npm run db:cleanup`: Dá»n dáº¹p dá»¯ liá»‡u rÃ¡c.
- `npm run import:data`: Nháº­p liá»‡u tá»« file Word/Excel (cÅ©).

## ğŸ›¡ï¸ Security & Access Control

Há»‡ thá»‘ng Ã¡p dá»¥ng mÃ´ hÃ¬nh báº£o máº­t Ä‘a lá»›p:

1.  **Authentication**: Sá»­ dá»¥ng NextAuth.js (Session JWT).
2.  **Authorization (RBAC)**:
    - **Server Actions**: Má»i mutation (`create`, `update`, `delete`) Ä‘á»u Ä‘Æ°á»£c báº£o vá»‡ bá»Ÿi `getServerSession`.
    - **Role Check**: Chá»‰ `ADMIN` má»›i cÃ³ quyá»n quáº£n lÃ½ Users.
3.  **Data Validation**: 100% dá»¯ liá»‡u Ä‘áº§u vÃ o Ä‘Æ°á»£c validate báº±ng `Zod` schema trÆ°á»›c khi cháº¡m vÃ o Database.

## ğŸ§ª Testing Strategy

Dá»± Ã¡n Ã¡p dá»¥ng chiáº¿n lÆ°á»£c kiá»ƒm thá»­ táº­p trung vÃ o **Behavior & Security Verification**:

- **Framework**: Jest + React Testing Library.
- **Verification Plan**: Xem chi tiáº¿t táº¡i `TEST_VERIFICATION_PLAN.md`.
- **Pháº¡m vi kiá»ƒm thá»­**:
    - **Security Logic**: Äáº£m báº£o unauthorized users bá»‹ cháº·n (TC-101).
    - **Business Logic**: Äáº£m báº£o cÃ¡c luá»“ng táº¡o/sá»­a/xÃ³a hoáº¡t Ä‘á»™ng Ä‘Ãºng (TC-001).
    - **Transactions**: Äáº£m báº£o tÃ­nh toÃ n váº¹n dá»¯ liá»‡u khi cáº­p nháº­t nhiá»u báº£ng (TC-004).

Äá»ƒ cháº¡y bá»™ kiá»ƒm thá»­:
```bash
# Cháº¡y toÃ n bá»™ tests
npm run test

# Cháº¡y test cho module cá»¥ thá»ƒ
npx jest src/features/documents/actions.test.ts
```

## ğŸ“ License
VITECHCO Internal Use Only.